#!/bin/sh

for If in $(ip addr | grep "^[0-9]" | cut -d ':' -f 2 | sed "s/\s*//g"); do
    case "$If" in
        wl*)
            export WIRELESS_INTERFACE="$If"
            ;;
        en*)
            export WIRED_INTERFACE="$If"
            ;;
        *)
            echo "Ignoring interface $If"
            ;;
    esac
done

if type "xrandr"; then
    for m in $(xrandr --query | grep " connected" | cut -d" " -f1); do
      MONITOR=$m polybar --reload mybar &
    done
else
    polybar --reload mybar &
fi
